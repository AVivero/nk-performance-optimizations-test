Trfx.Utils.onLoadDependencies(["$"]).done(function(){"use strict";var e="em.booking.open";var n="[trfx-booking]";$('[data-em-qa-hint="noFaresBehavior: hidden"]').closest("article.modules").css("display","none");var t=$(".trfx-container .modules, article.modules");t.each(function(e){var n=$(this);if(!$.trim(n.html()).length){n.addClass("hide")}});$("body").on("keypress click",n,function(n){if(n.type!="click"&&n.keyCode!=13){return}var t=$(this);var a={journeyType:t.data("return-date")!=undefined?"rt":"ow",origin:t.data("oac")!=undefined?t.data("oac"):null,destination:t.data("dac")!=undefined?t.data("dac"):null,departureDate:t.data("departure-date")!=undefined?t.data("departure-date"):null,returnDate:t.data("return-date")!=undefined?t.data("return-date"):null,siteEdition:t.data("site-edition")!=undefined?t.data("site-edition"):null,travelClass:t.data("travel-class")!=undefined?t.data("travel-class"):null,passengers:t.data("passengers")!=undefined?t.data("passengers"):null,startDate:t.data("start-date")!=undefined?t.data("start-date"):null,tripLength:t.data("trip-length")!=undefined?t.data("trip-length"):null,promoCode:t.data("promo-code")!=undefined?t.data("promo-code"):null,currencyCode:t.data("currency-code")!=undefined?t.data("currency-code"):null};if(typeof window!=="undefined"&&typeof window.EM!=="undefined"&&typeof window.EM.utils!=="undefined"&&typeof window.EM.utils.PubSub!=="undefined"){window.EM.utils.PubSub.publish(e,a)}return false});$(window).on("em.trfx.dealclick",function(e,n){var t=$(this);var a=$(e.target);var d="em.booking.open";var i="[trfx-booking]";if(n.dealInfo){var r=n.dealInfo;function o(e){var n=e.split("-");return n[1]+"/"+n[2]+"/"+n[0]}var u={journeyType:r.returnDate!=""?"rt":"ow",origin:r.originAirportCity||"",destination:r.destinationAirportCity||"",departureDate:o(r.departureDate)||"",returnDate:o(r.returnDate)||"",siteEdition:null,travelClass:r.passengerClass||r.eClass||"",passengers:null,startDate:null,tripLength:null,promoCode:null};if(typeof window!=="undefined"&&typeof window.EM!=="undefined"&&typeof window.EM.utils!=="undefined"&&typeof window.EM.utils.PubSub!=="undefined"){window.EM.utils.PubSub.publish(d,u)}return false}})});